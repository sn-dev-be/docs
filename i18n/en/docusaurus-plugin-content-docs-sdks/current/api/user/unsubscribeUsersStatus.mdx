---
sidebar_position: 6
toc_min_heading_level: 2
toc_max_heading_level: 2
---

# unsubscribeUsersStatus

## Function Introduction

:::info Description

Unsubscribe from the online status of users.

:::

:::caution Warning

After unsubscribing, you will no longer be notified of the user's online and offline status.

:::

<Tabs
groupId="sdks-language"
values={[
{ label: 'iOS', value: 'iOS', },
{ label: 'Android', value: 'Android', },
{ label: 'Flutter', value: 'Flutter', },
{ label: 'uni-app', value: 'uni-app', },
{ label: 'Web', value: 'Web', },
]
}>

<TabItem value="Flutter">

### Function Prototype

```dart showLineNumbers
 Future<List<UserStatusInfo>> unsubscribeUsersStatus(
    List<String> userIDs, {
    String? operationID,
  })
```

### Input Parameters

| Parameter Name | Parameter Type | Mandatory | Description    |
| -------------- | -------------- | --------- | -------------- |
| userIDs        | List<String\>  | Yes       | List of User IDs |

### Return Result

| Parameter Name | Parameter Type | Description        |
| -------------- | -------------- | ------------------- |
| then           | void           | Successful callback |
| onError        | Function       | Error callback      |

### Code Sample

```dart showLineNumbers
await OpenIM.iMManager.userManager.unsubscribeUsersStatus([]);
// todo
```

</TabItem>

<TabItem value="iOS">

### Function Prototype

```swift showLineNumbers

- (void)unsubscribeUsersStatus:(NSArray<NSString *> *)userIDs
                   onSuccess:(nullable OIMUserStatusInfosCallback)onSuccess
                   onFailure:(nullable OIMFailureCallback)onFailure;

```

### Input Parameters

| Parameter Name | Parameter Type     | Mandatory | Description    |
| -------------- | ------------------ | --------- | -------------- |
| userIDs        | NSArray<NSString *>| Yes       | List of User IDs |

### Return Result

| Parameter Name | Parameter Type    | Description |
| -------------- | ----------------- | ----------- |
| onSuccess      | OIMSuccessCallback| Success return |
| onFailure      | OIMFailureCallback | Error return  |

### Code Sample

```swift showLineNumbers

[OIMManager.manager unsubscribeUsersStatus:@[]
                                   onSuccess:^(NSString * _Nullable result) {

} onFailure:^(NSInteger code, NSString * _Nullable msg) {

}];

```

</TabItem>

<TabItem value="Android">

### Function Prototype

```java showLineNumbers
 public void unsubscribeOnlineUsersStatus(OnBase<String> callBack, List<String> uid)
```

### Input Parameters

| Parameter Name | Parameter Type                                                                                            | Mandatory | Description |
| -------------- | --------------------------------------------------------------------------------------------------------- | --------- | ----------- |
| callback       | [OnBase](/callback/onBase.mdx)<List<[UsersOnlineStatus](/class/user/userStatusInfo.mdx)>> | Yes       | User ID     |
| ids            | List<String\>                                                                                             | Yes       | User ID     |

### Code Sample

```java showLineNumbers
        OpenIMClient.getInstance().userInfoManager.unsubscribeOnlineUsersStatus(new OnBase<List<UsersOnlineStatus>>() {
            @Override
            public void onError(int code, String error) {

            }

            @Override
            public void onSuccess(List<UsersOnlineStatus> data) {

            }
        },ids);
// todo
```

</TabItem>

<TabItem value="Web">

### Function Prototype

```ts showLineNumbers
IMSDK.unsubscribeUsersStatus(userIDList: string[], operationID?: string): Promise<WsResponse<UserOnlineState[]>>
```

### Input Parameters

| Parameter Name | Parameter Type | Mandatory | Description    |
| -------------- | -------------- | --------- | -------------- |
| userIDList     | string[]       | Yes       | List of User IDs |

### Return Result

| Parameter Name | Parameter Type                                                                   | Description                     |
| -------------- | -------------------------------------------------------------------------------- | ------------------------------- |
| Promise.then() | Promise<WsResponse<[UserOnlineState](/class/user/userStatusInfo.mdx)[]>\> | User online status detail list  |
| Promise.catch()| Promise<[WsResponse](/class/response.mdx)\>                               | Error callback                  |

### Code Sample

```js showLineNumbers
import { getSDK } from 'open-im-sdk-wasm';
const IMSDK = getSDK();

IMSDK.unsubscribeUsersStatus()
  .then(({ data }) => {
    // data: User online status detail list
  })
  .catch(({ errCode, errMsg }) => {
    // Error handling
  });
```

</TabItem>

<TabItem value="uni-app">

### Function Prototype

```ts showLineNumbers
IMSDK.asyncApi('unsubscribeUsersStatus', operationID: string, userIDList: string[]): Promise<UserOnlineState[]>
```

### Input Parameters

| Parameter Name | Parameter Type | Mandatory | Description                                                                                   |
| -------------- | -------------- | --------- | --------------------------------------------------------------------------------------------- |
| operationID    | string         | Yes       | Operation ID, used for problem tracking. Keep it unique; it's recommended to use the current time and a random number. |
| userIDList     | string[]       | Yes       | List of User IDs                                                                              |

### Return Result

> Through the `openim-uniapp-polyfill` package, the function is turned into a Promise. When invoking, you need to use `then` and `catch` to determine and handle successful and failed callbacks.

| Parameter Name | Parameter Type                                                        | Description                     |
| -------------- | --------------------------------------------------------------------- | ------------------------------- |
| Promise.then() | Promise<[UserOnlineState](/class/user/userStatusInfo.mdx)[]\> | User online status detail list  |
| Promise.catch()| Promise<[CatchResponse](/class/response.mdx)\>                | Error callback                  |

### Code Sample

```js showLineNumbers
import IMSDK from 'openim-uniapp-polyfill';

IMSDK.asyncApi('unsubscribeUsersStatus', IMSDK.uuid())
  .then((data) => {
    // data: User online status detail list
  })
  .catch(({ errCode, errMsg }) => {
    // Error handling
  });
```

</TabItem>

</Tabs>